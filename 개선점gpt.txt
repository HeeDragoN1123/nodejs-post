    // if (!content) {
    //   return res.status(400).json({ Message: '댓글 내용을 입력해주세요' });
    // }

    // 미들웨어를 사용해보자 (공부) postId를 댓글 API 전체에 추가하는것 보다 미들웨어를 사용해서 전부 적용되게 만듬
    // throw ? 를 사용 (공부) throw 를 사용해서 지금 캐치 부분을 바꾸지 않고 try에서 게시글에 내용이 작성되지 않으면 400번 에러를 내도록 만듬


    
    // 질문 3
    // 지금 try catch 문을 제가 뭔가 잘못쓰고 있나요?
    // if(!user || !password || !content){
    //   return res.status(400).json({ message: '데이터 형식이 올바르지 않습니다.' });
    // }


    // const post = await prisma.posts.findFirst({
    //   where: { postId: +postId },
    // });

    // if(!post) return res.status(400).json({message:'존재하지 않는 게시물 입니다.'})


오류 수정 시작



import { prisma } from '../../utils/prisma/index.js';


const express = require('express');
const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

const app = express();

// 게시글 목록 조회 API
app.get('/api/posts', async (req, res) => {
try {
// 게시글을 조회하고, 각 게시글의 작성자 정보를 함께 가져옵니다.
const postsWithAuthors = await prisma.posts.findMany({
include: {
User: {
select: {
nickname: true, // 작성자의 닉네임 필드만 선택합니다.
},
},
},
});

res.json(postsWithAuthors);
} catch (error) {
console.error('게시글 목록 조회 오류:', error);
res.status(500).json({ error: '게시글 목록을 가져올 수 없습니다.' });
}
});

app.listen(3000, () => {
console.log('서버가 3000 포트에서 실행 중입니다.');
});